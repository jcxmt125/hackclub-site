<!DOCTYPE html>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Documentation for mcs-deploy-config series of Python scripts">
    <html lang="EN">

    
        <head>
        <title>Documentation for mcs-deploy-config</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@300&display=swap" rel="stylesheet">
        <style>
          body {
            font-family: 'IBM Plex Sans KR', sans-serif;;
            padding: 10px;
            line-height: 200%;
          }
        </style>
        </head>
        <body style="background-color:#202020;color:#F0F0F0">

            <h1>Documentation for mcs-deploy-config</h1>

            <h2>Source code</h2>

            <h3>Server-side</h3>

            <p>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-deploy-config.py">Deploy script</a><br>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-oraclefree-wrapper.py">Deploy script wrapper for Oracle linux servers</a><br>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-ubuntu-wrapper.py">Deploy script wrapper for Ubuntu servers</a><br>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-update-mods.py">Mods update script</a><br>
            </p>

            <h3>Desktop-side</h3>

            <p>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-make-config.py">Full config generation script</a><br>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-make-updateconfig.py">Update config generation script</a><br>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-deploy-mods-client.py">Deploy config for client</a><br>
            </p>

            <h3>Other</h3>

            <p>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/example-config.json">Example config file</a><br>
              <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/tree/main/python%20scripts/mcs-deploy-config/touchless">Quick Setup</a>
            </p>

            <h2>Now with "quick" install!</h2>

            <p>
              This will install a lightly modded (vanilla-connectible with optimization mods and some QoL mod compatilibilty) 1.21 fabric minecraft server.<br>
              The server will be installed on your current directory.<br>
              If you need to customize more settings, please read below.<br>
              Else, let's get started!<br>
            </p>

            <p>
              You should have Python installed. If not, please install it first...<br>
              For Oracle aarch (ARM) servers with 10+gbs of RAM (Half of the free capacity), run: curl -fsSL https://hackclub.jclink.link/links/mcs-tl-o-a | bash<br>
              For Ubuntu x86 servers, run: curl -fsSL https://hackclub.jclink.link/links/mcs-tl-u | bash
            </p>
            
            <p>
              When installing to Ubuntu, I'm not sure how much RAM you have, so you'll have to input that yourself.<br>
            </p>

            <p>
              To launch your server, open screen or tmux, and source start.sh<br>
              Make sure you change the external firewall to allow port 25565.<br>
              This script will automatically agree to the Minecraft EULA. Make sure you read through this.<br>
            </p>

            <h2>Preparing your config file</h2>

            <p>
              This program will help you install a minecraft server to a linux server.<br>
              First, we'll create the config file.<br>
              Execute the Full config generation script (mcs-make-config) file on your desktop machine.<br>
              Answer the questions to get a json config file.<br>
            </p>

            <h2>Deploying the server</h2>

            <p>
              We'll want to download the necessary files to your server.<br>
              First, cd into the directory you want your server installed to.<br>
              Download the server script with the following command:<br>
              curl -OJ https://raw.githubusercontent.com/jcxmt125/side-projects/main/python%20scripts/mcs-deploy-config/mcs-deploy-config.py<br>
              Then transfer your config file to the same directory with scp or similar.<br>
              You'll also want to install Java (JRE).<br>
            </p>

            <p>
              Execute the script on your server. It won't need additional modules.<br>
              Follow the instructions, and a minecraft server will be installed on your current directory.<br>
              Note the command displayed on screen, as it'll allow you to run the server.<br>
              As instructed, you may also use source start.sh instead.<br>
              You may delete the Python script, as it isn't needed anymore.<br>
            </p>

            <h2>Deploying to Oracle linux</h2>

            <p>
              For deploying entirely from scratch (without a set up Oracle account or server), see <a style="color: #b6defa;" href="mc-createserver.html">here</a>.<br>
              For following this guide, just connect to SSH, then download the above script.<br>
            </p>

            <h3>Preparing and deploying the minecraft server</h3>

            <p>
              After downloading the main script, execute the following command:<br>
              curl -OJ https://raw.githubusercontent.com/jcxmt125/side-projects/main/python%20scripts/mcs-deploy-config/mcs-oraclefree-wrapper.py<br>
              Don't forget to also transfer your config file.<br>
            </p>

            <p>
              Execute the "wrapper" Python script.<br>
              On the output, copy the latest headless version of Java.<br>
              For me, it looked like "jdk-22-headless.aarch64".<br>
              Paste it in, and when prompted, type "y" then return to allow yum to install Java.<br>
              Input the name of your config file, and press return.<br>
              When prompted, return to launch nano and agree to EULA.<br>
              Wait a few moments, and your server will be ready to go!<br>
            </p>

            <p>
              Come back to your desktop.<br>
              Don't exit the SSH session just yet, the server isn't running yet!<br>
            </p>

            <h3>Network setup</h3>

            <p>
              Now it's time to make your server actually connectable.<br>
              On the dashboard of your running cloud server, click the subnet link.<br>
              By default, it should look like subnet-[date]-[time].<br>
              Click on "Default Security list for..."<br>
              Click the "Add ingress rules" button.<br>
              Set Source CIDR to 0.0.0.0/0, and Destination Port range to 25565.<br>
              Click "Add ingress rules".<br>
            </p>

            <h2>Deploying to an Ubuntu server</h2>

            <p>
              After downloading the main script, execute the following command:<br>
              curl -OJ https://raw.githubusercontent.com/jcxmt125/side-projects/main/python%20scripts/mcs-deploy-config/mcs-ubuntu-wrapper.py<br>
              Don't forget to also transfer your config file.<br>
            </p>

            <p>
              Execute the "wrapper" Python script.<br>
              It will apt update for you, then ask if you'd like to apt upgrade.<br>
              Then, it'll search for available jre binaries.<br>
              Select the latest openjdk headless, for me "openjdk-21-jre-headless".<br>
              Paste it in, and when prompted, type "y" then return to allow apt to install Java.<br>
              Input the name of your config file, and press return.<br>
              When prompted, return to launch nano and agree to EULA.<br>
              Wait a few moments, and your server will be ready to go!<br>
            </p>

            <h2>Finishing and connecting</h2>

            <p>
              You can optionally connect your server to a domain.<br>
              Add an A record for the public IP address.<br>
              If you're using Cloudflare: Make sure you turn proxying off.<br>
            </p>

            <h3>Start and connect to the server</h3>

            <p>
              Run the provided command.<br>
              Either paste it in directly, or do source start.sh<br>
              It is recommended to do this in, for example, a "screen" or tmux, so as not to lose your connection.<br>
              Your server should start up!<br>
              In your Minecraft client, add the server.<br>
              In multiplayer, "add server".<br>
              Input the IP address, or your configured domain.<br>
              You should be able to connect now!
            </p>

            <h3>Stopping the server</h3>

            <p>
              You shouldn't need to stop the server, but if you need to for some reason, type stop and return.<br>
              You can configure it as you like, but this script can't help with that.
            </p>

            <h2>Maintaining the server</h2>

            <h3>Updating mods</h3>

            <p>
              On your desktop, download the update config generation script.<br>
              Run it, and add the mods you want to update the server with.<br>
              Add all the mods, even ones that didn't get a update, as it'll delete the entire md directory and update it with this list.<br>
              Save and transfer the config file.<br>
            </p>

            <p>
              On your server, open another tmux or screen session.<br>
              cd into the server directory, then download the upgrade assistant script with the following:<br>
              curl -OJ https://raw.githubusercontent.com/jcxmt125/side-projects/main/python%20scripts/mcs-deploy-config/mcs-update-mods.py<br>
              After you verify the script and the config file is ready, stop the minecraft server.<br>
              Execute the script, provide the config file (It may also be a 'full' config file), and it should be done fairly quickly.<br>
              Start the minecraft server.<br>
            </p>

            <h2>Installing mods client-side</h2>

            <p>
              Installed mods on your server, but still need to do it on your own PC?<br>
              There's another script that can help!<br>
              First, install fabric on your Minecraft installation.<br>
              See <a style="color: #effab6;" href="https://fabricmc.net/use/installer/">fabricmc.net</a> for more information on that.<br>
              Then download the <a style="color: #effab6;" href="https://github.com/jcxmt125/side-projects/blob/main/python%20scripts/mcs-deploy-config/mcs-deploy-mods-client.py">Client configuration deploy</a> script.<br>
              Prepare your configuration script too. This script is compatible with the same format as the server side mod update script.<br>
            </p>

            <p>
              Move the script into a folder, as it will generate some files.<br>
              Execute the script, and drag and drop the config file to the terminal.<br>
              Make sure the config file is in a "simple" directory.<br>
              The script will back up your current mods directory to a folder named "mods.old" in your working directory.<br>
              It will also download all of your requested mods.<br>
              This may take a bit depending on your internet connection.<br>
              It should exit when completed.<br>
            </p>

            <p>
              Open Minecraft launcher, then select the fabric installation to start.<br>
              Some mods are server-only, and won't affect clients. Some are client-only, and won't work on servers.<br>
              Check the mod page's descriptions.<br>
            </p>

        </body>
    </html>